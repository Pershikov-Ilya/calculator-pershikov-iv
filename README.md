# calculator-pershikov-iv

## Что сделано?
В этом проекте реализован калькулятор на языке C, который парсит и вычисляет арифметические выражения. Функциональность включает:
- **Поддержка арифметических операций**: сложение, вычитание, умножение и деление с учетом приоритетов и скобок.
- **Два режима вычислений**: целочисленный (по умолчанию) и вещественный (при передаче аргумента `--float`).
- **Обработка ошибок**: корректное обнаружение недопустимых символов, деления на ноль, неверного форматирования ввода.
- **Unit-тестирование**: написаны тесты с использованием фреймворка **googletest** для проверки всех основных функций парсинга и вычислений.

Запись в требуемом формате:
```
<app.exe>: main.c
gcc -Wall -Wextra -O2 main.c -o app.exe

<unit-tests.exe>: main.c, tests/unit/unit-test.cpp
g++ -std=c++14 -Wall -Wextra -O2 tests/unit/unit-test.cpp main.c -o unit-tests.exe -lgtest -lgtest_main -pthread
```

## Как запустить/использовать?
- **Сборка проекта**  
  В корневой папке выполните:
  ```bash
  make all
  ```
Это создаст два исполняемых файла:

app.exe — основное приложение калькулятора.
unit-tests.exe — программа с юнит-тестами.

#Запуск приложения

Для целочисленного режима:
```
make run-int
```

Для вещественного режима:
```
make run-float
```

p.s. Приложение читает выражение из стандартного ввода.

#Запуск юнит-тестов
Для проверки функциональности выполните:
```
make run-unit-test
```

#Интеграционные тесты (если есть)
Создайте виртуальное окружение и установите pytest:
```
make venv
make run-integration-tests
```

##Как это сделано?

Основная логика калькулятора реализована в файле main.c с использованием рекурсивного разбора (recursive descent) для обработки арифметических выражений. Код разделён на функции, отвечающие за разбор чисел, операций умножения/деления и сложения/вычитания, что позволяет корректно обрабатывать как целочисленные, так и вещественные вычисления.

Unit-тесты находятся в файле tests/unit/unit-test.cpp и используют googletest для проверки корректности работы каждой функции (например, тесты на правильное вычисление, обработку ошибок и граничные случаи). Сборка всего проекта автоматизирована с помощью Makefile, который содержит цели для компиляции приложения, юнит-тестов, их запуска и очистки артефактов сборки.


#Очистка сборки
Чтобы удалить созданные артефакты:
```
make clean
```

#Ресурсы для справки:
- Maven
- Gradle
- Ant
- CMake
- GNU Make Manual
- Makefile Tutorial
